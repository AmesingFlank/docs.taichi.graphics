<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>开发与贡献指南 | Taichi</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/logo.png">
    <meta name="description" content="Taichi编程语言">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="og:locale" content="en_US">
    
    <link rel="preload" href="/assets/css/0.styles.b08593d8.css" as="style"><link rel="preload" href="/assets/js/app.9585d352.js" as="script"><link rel="preload" href="/assets/js/5.080877bc.js" as="script"><link rel="preload" href="/assets/js/75.b4f7bb7d.js" as="script"><link rel="prefetch" href="/assets/js/1.e5c9f45c.js"><link rel="prefetch" href="/assets/js/10.63d3cf82.js"><link rel="prefetch" href="/assets/js/100.7eb61891.js"><link rel="prefetch" href="/assets/js/101.f92d4d2c.js"><link rel="prefetch" href="/assets/js/102.0dafe016.js"><link rel="prefetch" href="/assets/js/103.c00f7ea4.js"><link rel="prefetch" href="/assets/js/104.f58b5ffb.js"><link rel="prefetch" href="/assets/js/105.eb59d87a.js"><link rel="prefetch" href="/assets/js/106.1d14b667.js"><link rel="prefetch" href="/assets/js/107.b1acc61b.js"><link rel="prefetch" href="/assets/js/108.0e646db1.js"><link rel="prefetch" href="/assets/js/109.0ae7ccca.js"><link rel="prefetch" href="/assets/js/11.dedff0c7.js"><link rel="prefetch" href="/assets/js/110.5042d46d.js"><link rel="prefetch" href="/assets/js/111.3fa4e81a.js"><link rel="prefetch" href="/assets/js/112.f6591e7f.js"><link rel="prefetch" href="/assets/js/113.a05e1104.js"><link rel="prefetch" href="/assets/js/114.b08c02a6.js"><link rel="prefetch" href="/assets/js/115.c239c10f.js"><link rel="prefetch" href="/assets/js/116.317d50f9.js"><link rel="prefetch" href="/assets/js/117.a8bac83b.js"><link rel="prefetch" href="/assets/js/118.04d14afe.js"><link rel="prefetch" href="/assets/js/119.5edd8c6e.js"><link rel="prefetch" href="/assets/js/12.90a21ef0.js"><link rel="prefetch" href="/assets/js/120.081b5c22.js"><link rel="prefetch" href="/assets/js/121.fc673ed7.js"><link rel="prefetch" href="/assets/js/13.b028ad2a.js"><link rel="prefetch" href="/assets/js/14.6b96fdb4.js"><link rel="prefetch" href="/assets/js/15.8df75154.js"><link rel="prefetch" href="/assets/js/16.9b549176.js"><link rel="prefetch" href="/assets/js/17.4dc6aece.js"><link rel="prefetch" href="/assets/js/18.938c8675.js"><link rel="prefetch" href="/assets/js/19.929a4a22.js"><link rel="prefetch" href="/assets/js/2.4db73bc4.js"><link rel="prefetch" href="/assets/js/20.79016e42.js"><link rel="prefetch" href="/assets/js/21.e4060e84.js"><link rel="prefetch" href="/assets/js/22.c99f92c4.js"><link rel="prefetch" href="/assets/js/23.ac76eac1.js"><link rel="prefetch" href="/assets/js/24.f3ccf200.js"><link rel="prefetch" href="/assets/js/25.93e0247b.js"><link rel="prefetch" href="/assets/js/26.8301bb8d.js"><link rel="prefetch" href="/assets/js/27.aed18eb1.js"><link rel="prefetch" href="/assets/js/28.bbee75ed.js"><link rel="prefetch" href="/assets/js/29.8b8919bc.js"><link rel="prefetch" href="/assets/js/30.f60923c8.js"><link rel="prefetch" href="/assets/js/31.f43ac168.js"><link rel="prefetch" href="/assets/js/32.586551aa.js"><link rel="prefetch" href="/assets/js/33.72723ac6.js"><link rel="prefetch" href="/assets/js/34.0b0b7741.js"><link rel="prefetch" href="/assets/js/35.7e5d0389.js"><link rel="prefetch" href="/assets/js/36.bbea2f59.js"><link rel="prefetch" href="/assets/js/37.29d882b2.js"><link rel="prefetch" href="/assets/js/38.931e3cc8.js"><link rel="prefetch" href="/assets/js/39.ca922070.js"><link rel="prefetch" href="/assets/js/40.6c3d59e2.js"><link rel="prefetch" href="/assets/js/41.60494ab3.js"><link rel="prefetch" href="/assets/js/42.31179ab1.js"><link rel="prefetch" href="/assets/js/43.da017430.js"><link rel="prefetch" href="/assets/js/44.73d6662a.js"><link rel="prefetch" href="/assets/js/45.72bebcd9.js"><link rel="prefetch" href="/assets/js/46.c59a47dd.js"><link rel="prefetch" href="/assets/js/47.58da5713.js"><link rel="prefetch" href="/assets/js/48.4d0125d0.js"><link rel="prefetch" href="/assets/js/49.7fdf880c.js"><link rel="prefetch" href="/assets/js/50.8a72eff0.js"><link rel="prefetch" href="/assets/js/51.cefbd987.js"><link rel="prefetch" href="/assets/js/52.01ea5e3a.js"><link rel="prefetch" href="/assets/js/53.fd338b48.js"><link rel="prefetch" href="/assets/js/54.49823d90.js"><link rel="prefetch" href="/assets/js/55.fd3daeef.js"><link rel="prefetch" href="/assets/js/56.36eea25b.js"><link rel="prefetch" href="/assets/js/57.13bf7e2a.js"><link rel="prefetch" href="/assets/js/58.f76ecc8c.js"><link rel="prefetch" href="/assets/js/59.d0d81a01.js"><link rel="prefetch" href="/assets/js/6.18d71df6.js"><link rel="prefetch" href="/assets/js/60.1e50815d.js"><link rel="prefetch" href="/assets/js/61.89013eac.js"><link rel="prefetch" href="/assets/js/62.54f52f64.js"><link rel="prefetch" href="/assets/js/63.ea3d19ef.js"><link rel="prefetch" href="/assets/js/64.bdad9f0b.js"><link rel="prefetch" href="/assets/js/65.fe2bb921.js"><link rel="prefetch" href="/assets/js/66.1bf5152f.js"><link rel="prefetch" href="/assets/js/67.3a1cc0aa.js"><link rel="prefetch" href="/assets/js/68.723f10ec.js"><link rel="prefetch" href="/assets/js/69.7fd7351b.js"><link rel="prefetch" href="/assets/js/7.d8e2bbde.js"><link rel="prefetch" href="/assets/js/70.3e0b791e.js"><link rel="prefetch" href="/assets/js/71.b30f5c4d.js"><link rel="prefetch" href="/assets/js/72.7a273467.js"><link rel="prefetch" href="/assets/js/73.df4ddc6f.js"><link rel="prefetch" href="/assets/js/74.36cb3b7c.js"><link rel="prefetch" href="/assets/js/76.ba48da5b.js"><link rel="prefetch" href="/assets/js/77.f433064f.js"><link rel="prefetch" href="/assets/js/78.2f21cc84.js"><link rel="prefetch" href="/assets/js/79.04cfd230.js"><link rel="prefetch" href="/assets/js/8.f3cce39d.js"><link rel="prefetch" href="/assets/js/80.edf5fa0c.js"><link rel="prefetch" href="/assets/js/81.2dc3a68c.js"><link rel="prefetch" href="/assets/js/82.6aee51f4.js"><link rel="prefetch" href="/assets/js/83.f8280f6e.js"><link rel="prefetch" href="/assets/js/84.d439d35e.js"><link rel="prefetch" href="/assets/js/85.ae147613.js"><link rel="prefetch" href="/assets/js/86.31935e1d.js"><link rel="prefetch" href="/assets/js/87.977b06e4.js"><link rel="prefetch" href="/assets/js/88.e00e5f63.js"><link rel="prefetch" href="/assets/js/89.57eb10ea.js"><link rel="prefetch" href="/assets/js/9.bbfb438a.js"><link rel="prefetch" href="/assets/js/90.562916a0.js"><link rel="prefetch" href="/assets/js/91.aee373fb.js"><link rel="prefetch" href="/assets/js/92.fca7eb94.js"><link rel="prefetch" href="/assets/js/93.79f5bca6.js"><link rel="prefetch" href="/assets/js/94.a91735e4.js"><link rel="prefetch" href="/assets/js/95.392e91ad.js"><link rel="prefetch" href="/assets/js/96.01832884.js"><link rel="prefetch" href="/assets/js/97.9c92bd79.js"><link rel="prefetch" href="/assets/js/98.f83e4f4d.js"><link rel="prefetch" href="/assets/js/99.0ae1bacd.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.872458a0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b08593d8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/zh/" class="home-link router-link-active"><img src="/logo_medium.png" alt="Taichi" class="logo"> <span class="site-name can-hide">Taichi</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文档" class="dropdown-title"><span class="title">文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="文档" class="mobile-dropdown-title"><span class="title">文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/develop/documentation/overview/overview.html" class="nav-link">
  develop
</a></li></ul></div></div><div class="nav-item"><a href="/zh/tutorials/" class="nav-link">
  教程
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="了解更多" class="dropdown-title"><span class="title">了解更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="了解更多" class="mobile-dropdown-title"><span class="title">了解更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          探索
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zh/gallery/" class="nav-link">
  画廊
</a></li><li class="dropdown-subitem"><a href="/zh/research/" class="nav-link">
  研究
</a></li></ul></li><li class="dropdown-item"><h4>
          资源
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zh/contribution/" class="nav-link router-link-active">
  贡献指南
</a></li><li class="dropdown-subitem"><a href="/zh/events/" class="nav-link">
  活动
</a></li><li class="dropdown-subitem"><a href="https://github.com/taichi-dev/taichi/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  更新日志
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          常见问题
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zh/faq/" class="nav-link">
  FAQ
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://forum.taichi.graphics/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  论坛
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/zh/community/" class="nav-link">
  社区
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="语言" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="语言" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/contribution/contributor_guide.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh/contribution/contributor_guide.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/taichi-dev/taichi" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文档" class="dropdown-title"><span class="title">文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="文档" class="mobile-dropdown-title"><span class="title">文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/develop/documentation/overview/overview.html" class="nav-link">
  develop
</a></li></ul></div></div><div class="nav-item"><a href="/zh/tutorials/" class="nav-link">
  教程
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="了解更多" class="dropdown-title"><span class="title">了解更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="了解更多" class="mobile-dropdown-title"><span class="title">了解更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          探索
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zh/gallery/" class="nav-link">
  画廊
</a></li><li class="dropdown-subitem"><a href="/zh/research/" class="nav-link">
  研究
</a></li></ul></li><li class="dropdown-item"><h4>
          资源
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zh/contribution/" class="nav-link router-link-active">
  贡献指南
</a></li><li class="dropdown-subitem"><a href="/zh/events/" class="nav-link">
  活动
</a></li><li class="dropdown-subitem"><a href="https://github.com/taichi-dev/taichi/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  更新日志
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          常见问题
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zh/faq/" class="nav-link">
  FAQ
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://forum.taichi.graphics/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  论坛
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/zh/community/" class="nav-link">
  社区
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="语言" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="语言" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/contribution/contributor_guide.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh/contribution/contributor_guide.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/taichi-dev/taichi" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>贡献指南</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/contribution/dev_install.html" class="sidebar-link">开发者安装指南</a></li><li><a href="/zh/contribution/contributor_guide.html" aria-current="page" class="active sidebar-link">开发与贡献指南</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/contribution/contributor_guide.html#如何参与-bug-修复-添加新特性" class="sidebar-link">如何参与 Bug 修复，添加新特性</a></li><li class="sidebar-sub-header"><a href="/zh/contribution/contributor_guide.html#基本准则" class="sidebar-link">基本准则</a></li><li class="sidebar-sub-header"><a href="/zh/contribution/contributor_guide.html#高效率地沟通" class="sidebar-link">高效率地沟通</a></li><li class="sidebar-sub-header"><a href="/zh/contribution/contributor_guide.html#提交良好的-pr" class="sidebar-link">提交良好的 PR</a></li><li class="sidebar-sub-header"><a href="/zh/contribution/contributor_guide.html#审核与-pr-的合并" class="sidebar-link">审核与 PR 的合并</a></li><li class="sidebar-sub-header"><a href="/zh/contribution/contributor_guide.html#持续集成的运用" class="sidebar-link">持续集成的运用</a></li><li class="sidebar-sub-header"><a href="/zh/contribution/contributor_guide.html#规范代码风格" class="sidebar-link">规范代码风格</a></li><li class="sidebar-sub-header"><a href="/zh/contribution/contributor_guide.html#pr-标题格式和标签" class="sidebar-link">PR 标题格式和标签</a></li><li class="sidebar-sub-header"><a href="/zh/contribution/contributor_guide.html#c-和-python-标准" class="sidebar-link">C++ 和 Python 标准</a></li><li class="sidebar-sub-header"><a href="/zh/contribution/contributor_guide.html#taichi-编译器的开发建议" class="sidebar-link">Taichi 编译器的开发建议</a></li><li class="sidebar-sub-header"><a href="/zh/contribution/contributor_guide.html#目录结构" class="sidebar-link">目录结构</a></li><li class="sidebar-sub-header"><a href="/zh/contribution/contributor_guide.html#测试" class="sidebar-link">测试</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/contribution/contributor_guide.html#命令行工具" class="sidebar-link">命令行工具</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/contribution/contributor_guide.html#文档" class="sidebar-link">文档</a></li><li class="sidebar-sub-header"><a href="/zh/contribution/contributor_guide.html#跨-python-c-的高效代码导航" class="sidebar-link">跨 Python/C++ 的高效代码导航</a></li><li class="sidebar-sub-header"><a href="/zh/contribution/contributor_guide.html#升级-cuda" class="sidebar-link">升级 CUDA</a></li></ul></li><li><a href="/zh/contribution/doc_writing.html" class="sidebar-link">文档撰写指南</a></li><li><a href="/zh/contribution/write_test.html" class="sidebar-link">编写 Python 测试的工作流程</a></li><li><a href="/zh/contribution/utilities.html" class="sidebar-link">开发者工具</a></li><li><a href="/zh/contribution/profiler.html" class="sidebar-link">性能分析器</a></li><li><a href="/zh/contribution/cpp_style.html" class="sidebar-link">C++ 代码风格规范</a></li><li><a href="/zh/contribution/compilation.html" class="sidebar-link">Taichi 内核的生命周期</a></li><li><a href="/zh/contribution/internal.html" class="sidebar-link">内部设计（WIP）</a></li><li><a href="/zh/contribution/versioning_releases.html" class="sidebar-link">版本管理与发布</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="开发与贡献指南"><a href="#开发与贡献指南" class="header-anchor">#</a> 开发与贡献指南</h1> <p>首先，感谢你的参与和贡献！ 我们欢迎一切形式的贡献，包括但不限于</p> <ul><li>修复 Bug</li> <li>提出和实现新功能</li> <li>对本文档进行改进和翻译（欢迎前往[Taichi 中文文档](https://crowdin.com/project/taichi-programming-language/zh-CN#)）</li> <li>完善错误时的提示，使之对用户更友好</li> <li>提交新的测试用例</li> <li>提交新的样例程序</li> <li>提交编译器性能补丁</li> <li>发布有关 Taichi 的博客文章和教程</li> <li>加入我们的 <a href="https://forum.taichi.graphics/" target="_blank" rel="noopener noreferrer">Taichi 论坛<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>向你的朋友们介绍 Taichi 或者直接在 GitHub 上星标<a href="https://github.com/taichi-dev/taichi" target="_blank" rel="noopener noreferrer">Taichi 项目<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li> <li>修复文档，代码，注释中的拼写错误（像这样的小问题请直接创建一个 PR 而不必开一个 issue）</li></ul> <h2 id="如何参与-bug-修复-添加新特性"><a href="#如何参与-bug-修复-添加新特性" class="header-anchor">#</a> 如何参与 Bug 修复，添加新特性</h2> <p>标记了 <a href="https://github.com/taichi-dev/taichi/issues?q=is%3Aopen+is%3Aissue+label%3A%22good+first+issue%22" target="_blank" rel="noopener noreferrer">good first issue<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 的 issue 对新手来说较容易上手。</p> <ul><li>请先在这个 issue 中留下一句评论（比如： <em>我知道怎么解决这个，并且乐于提供帮助！</em>）。这样大家就知道已经有人在解决这个问题了。 这样有助于避免重复劳动；</li> <li>如果没有核心开发成员说明一个 issue 可能的解决方案，请简要地描述你的方案，并在开始前静候开发成员的回复确认。 这可以保障实现的简洁高效。</li></ul> <p>标记了 <a href="https://github.com/taichi-dev/taichi/issues?q=is%3Aopen+is%3Aissue+label%3A%22welcome+contribution%22" target="_blank" rel="noopener noreferrer">welcome contribution<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 的 issue 相比之下更有挑战性但对新手仍然是比较友好的。</p> <h2 id="基本准则"><a href="#基本准则" class="header-anchor">#</a> 基本准则</h2> <ul><li>切实解决问题是我们的最终目标。</li> <li>不要小题大做：用_简单_的方案去解决简单的问题，这样你可以抽出时间和精力处理那些真正困难的问题。</li> <li>几乎每一个设计都有两面性。 如果利大于弊，那就可以看作是一个好的_决定_ ，请务必权衡利弊。 请务必权衡利弊。</li> <li>调试是很困难的。 每一次的改动应该很小，这样 Bug 的源头就可以很容易地找到。</li> <li>单元/集成测试是我们的好伙伴。</li></ul> <div class="custom-block note"><p class="custom-block-title">注解</p> <p>&quot;软件设计过程中中存在两种模式：一种是使之结构简单明了到没有任何问题，另一种是令结构设计足够复杂到完美无缺。 <em>而第一种方案则要困难的多</em>。&quot; ——<a href="https://en.wikipedia.org/wiki/Tony_Hoare" target="_blank" rel="noopener noreferrer">C.A.R. 霍尔<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <p>需要记住的一点是，Taichi 最初是作为一个学术研究项目而诞生的。 这通常意味着有些部分没有机会经过稳固坚实的设计。 虽然我们一直在努力提高代码质量，但这并不意味着项目能没有技术负债。 有些地方仍可能会过于复杂而让人感到困惑。 一旦你发现这种情形的存在，非常欢迎给我们提出 PR！ 😃</p> <h2 id="高效率地沟通"><a href="#高效率地沟通" class="header-anchor">#</a> 高效率地沟通</h2> <ul><li>传达了多少有效信息，比打了多少字重要的多。</li> <li>在沟通中保持积极， 礼貌， 注意语言的组织性、 准确性。</li> <li>注意除了文字之外，列表（Bulleted lists）也是我们表达过程中的好伙伴。</li> <li>提交评论前请仔细预读：如果你是读者，你能读懂自己所写的内容么？</li> <li>如果你的母语不是英语，考虑使用拼写检查器，例如 <a href="https://app.grammarly.com/" target="_blank" rel="noopener noreferrer">Grammarly<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li></ul> <p>请根据事实进行讨论与反馈，而不是个人感觉。 对我们所有人来说，保持一个友好、零责备的社区环境是非常重要的。 一些例子如下：</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>可接受的表达方式 😃 这种设计可能会让 Taichi 的初学者感到困惑。</p></div> <div class="custom-block danger"><p class="custom-block-title">警告</p> <p>不可接受的表达方式 这种设计真是太糟糕了。</p></div> <h2 id="提交良好的-pr"><a href="#提交良好的-pr" class="header-anchor">#</a> 提交良好的 PR</h2> <ul><li>我们鼓励改动<strong>很小</strong>的 PR。 一个 PR 理想情况下应该 <strong>只针对一个问题(issue)</strong> 。
<ul><li>也可以掺杂一些<strong>无关紧要</strong>的优化重构，比如修正笔误；</li> <li>审稿人保留要求 PR 作者删除一些<strong>无关紧要</strong>的改动的权利。</li></ul></li> <li>PR 中的所有 commit 都应被<strong>压缩&amp;合并到 master 分支的一个 commit 里</strong> 。</li> <li>为保留清晰的提交日志 PR 作者<strong>不应该将多条 commit 压缩(squash) 后提交</strong>；</li> <li>当实现一个复杂的特性时，考虑将其分散为许多个小 PR，从而保证更具细节的开发时间线，保证与开发者更频繁的沟通。</li> <li>如果你想更及时的得到核心开发成员的反馈
<ul><li>通过 GitHub 的 <a href="https://github.blog/2019-02-14-introducing-draft-pull-requests/" target="_blank" rel="noopener noreferrer">Draft<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 状态开一个 PR，这样就可以和我们实时分享你的进展了；</li> <li>请确保在评论中 @ 相应开发成员，或者使用请求评审(request the review)。</li></ul></li> <li>如果你同时在处理多个 PR
<ul><li>互不依赖的 PR 都应该是基于 <code>master</code> 衍生出的 <strong>不同</strong> 分支；</li> <li>存在依赖的 PR 应该在所有前置 PR 合并入 <code>master</code> 后再进行提出。</li></ul></li> <li>所有 PR 理想情况下都应该伴随着相应的<strong>测试</strong>；</li> <li>除了内部编译器的实现外，其余的 PR 都应该带有与其功能相对应的<strong>文档更新</strong>；</li> <li>所有 PR 必须通过**持续集成测试(continuous integration tests)**后才能被合并；</li> <li>PR 的标题应当按照 <code>prtag</code> 的要求编写；</li> <li>除此之外，谷歌有篇相当棒的文章 <a href="https://testing.googleblog.com/2017/06/code-health-too-many-comments-on-your.html" target="_blank" rel="noopener noreferrer">how to have your PR merged quickly<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 可供参考。 <a href="https://github.com/yuanming-hu/public_files/blob/master/graphics/taichi/google_review_comments.pdf" target="_blank" rel="noopener noreferrer">[PDF]<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="审核与-pr-的合并"><a href="#审核与-pr-的合并" class="header-anchor">#</a> 审核与 PR 的合并</h2> <ul><li>请尝试遵循以下几个来自谷歌的建议
<ul><li><a href="https://testing.googleblog.com/2018/05/code-health-understanding-code-in-review.html" target="_blank" rel="noopener noreferrer">Code Health: Understanding Code In Review<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>；<a href="https://github.com/yuanming-hu/public_files/blob/master/graphics/taichi/google_understanding_code.pdf" target="_blank" rel="noopener noreferrer">[PDF]<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://testing.googleblog.com/2019/11/code-health-respectful-reviews-useful.html" target="_blank" rel="noopener noreferrer">Code Health: Respectful Reviews == Useful Reviews<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。 <a href="https://github.com/yuanming-hu/public_files/blob/master/graphics/taichi/google_respectful_reviews.pdf" target="_blank" rel="noopener noreferrer">[PDF]<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li>合并操作应当始终将 PR <strong>压缩&amp;合并(squash and merge)</strong> 到主分支（默认为master）上；</li> <li>主分支要求记录<strong>线性历史(linear history)</strong>；</li> <li>确保 PR 能够顺利通过<strong>持续集成测试</strong>，文档更新等情况除外；</li> <li>确保标题遵循 <code>prtag</code> 的要求。</li></ul> <h2 id="持续集成的运用"><a href="#持续集成的运用" class="header-anchor">#</a> 持续集成的运用</h2> <ul><li>持续集成(Continuous Integration, CI)，将在 CI 环境中<strong>构建</strong>和<strong>测试</strong>你所提交的 PR。</li> <li>目前，Taichi 使用的集成测试服务是 <a href="https://travis-ci.org" target="_blank" rel="noopener noreferrer">TravisCI<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (OS X 和Linux 平台) 以及 <a href="https://www.appveyor.com" target="_blank" rel="noopener noreferrer">AppVeyor<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (Windows 平台)。</li> <li>每次你推送提交到一个开着的 PR 时，CI 将被触发。</li> <li>可以在提交消息前加上 <code>[skip ci]</code> 以避免触发 CI。例如 <code>[skip ci] This commit will not trigger CI</code></li> <li>提交 ID 右侧有绿色对勾表示 CI 通过，红色叉号表示 CI 失败。</li></ul> <h2 id="规范代码风格"><a href="#规范代码风格" class="header-anchor">#</a> 规范代码风格</h2> <ul><li><p>在本地，可以通过在命令行中运行 <code>ti format</code> 来自动格式化代码。 请注意，在使用 <code>ti format</code> 之前，您必须在本地安装 <code>clang-format-6.0</code> 和 <code>yapf v0.29.0</code>。</p></li> <li><p>如果不想在本地安装这些格式化工具，也可以使用我们的<strong>格式化服务器(format server)</strong>。 这是一个 <code>ti format</code> 的在线版本。</p> <ul><li>访问 ☷ <a href="http://kun.csail.mit.edu:31415/" target="_blank" rel="noopener noreferrer">http://kun.csail.mit.edu:31415/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, 并点击选取所需格式化的 PR id。</li> <li>回到 PR 页面，你将看到一个名为 @taichi-gardener (机器人) 的用户推送了一个名为 <code>[skip ci] enforce code format</code> 的提交。</li> <li>如果你没能找到机器人的提交，说明格式化服务器未发现任何不规范的代码格式。</li> <li>然后请在本地分支中运行 <code>git pull</code> 来提取格式化代码。</li> <li>值得留意的是，备注(commit message) 带有 <code>[format]</code> 的提交信息将自动触发格式化服务。 例如：<code>[format] our commit message</code></li></ul></li></ul> <h2 id="pr-标题格式和标签"><a href="#pr-标题格式和标签" class="header-anchor">#</a> PR 标题格式和标签</h2> <p>PR 标题将成为 <code>master</code> 分支中提交历史的一部分，因此保证 PR 标题的可读性非常重要。</p> <ul><li>请务必在 PR 标题前附加上<strong>至少一个</strong>标签，如 <code>[Lang]</code> 等：
<ul><li>当使用多个标签时，确保标签之间只留有一个空格分隔；</li> <li>例如， <code>\[Lang\]\[refactor\]</code>（没有空格）应该被格式化为 <code>\[Lang\] \[refactor\]</code>；</li></ul></li> <li>PR 标题主干部分的首字母应该大写：
<ul><li>例如，<code>[Doc] improve documentation</code> 应该被格式化为 <code>[Doc] Improve documentation</code>；</li> <li>同时，<code>[Lang] &quot;ti.sqr(x)&quot; is now deprecated</code> 是被允许的，因为 <code>&quot;</code>是一个符号。</li></ul></li> <li>请不要在 PR 标题中包括反引号 (&quot;`&quot;)。</li> <li>例如，&quot;[Metal] Support bitmasked SNode&quot;，&quot;[OpenGL] AtomicMin/Max support&quot;，或 &quot;[Opt] [IR] Enhanced constant folding&quot;。</li></ul> <p>常用的标签：</p> <ul><li><code>[Metal], [OpenGL], [CPU], [CUDA]</code>：后端；</li> <li><code>[LLVM]</code>：CPU 和 CUDA 共享的 LLVM 后端；</li> <li><code>[Lang]</code>：前端语言特性，包括语法糖；</li> <li><code>[Std]</code>：标准库，例如 <code>ti.Matrix</code> 和 <code>ti.Vector</code>；</li> <li><code>[Sparse]</code>：稀疏计算；</li> <li><code>[IR]</code>：中间表示(intermediate representation, IR)；</li> <li><code>[Opt]</code>：IR 优化迭代轮数；</li> <li><code>[GUI]</code>：内嵌的 GUI 系统；</li> <li><code>[Refactor]</code>：代码重构；</li> <li><code>[CLI]</code>：命令行接口，例如 <code>ti</code> 命令；</li> <li><code>[Doc]</code>：与 <code>docs/</code> 目录下的文档相关；</li> <li><code>[Example]</code>：与 <code>examples/</code> 目录下的样例程序相关；</li> <li><code>[Test]</code>：在 <code>tests/</code> 目录下增加和改进测试程序；</li> <li><code>[Linux]</code>：与 Linux 平台相关；</li> <li><code>[Mac]</code>：与 Mac OS X 平台相关；</li> <li><code>[Windows]</code>：与 Windows 平台相关；</li> <li><code>[Perf]</code>：性能改进；</li> <li><code>[Misc]</code>：难以归类的杂项，如版本跳跃，格式优化等；</li> <li><code>[Bug]</code>：Bug修复；</li> <li>在 <a href="https://github.com/taichi-dev/taichi/blob/master/misc/prtags.json" target="_blank" rel="noopener noreferrer">misc/prtags.json<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 中查看更多标签。</li> <li>在引进新标签时，请在首先使用该标签的 PR 中一并更新 <code>misc/prtags.json</code> 列表，以便其他成员跟随使用。</li></ul> <div class="custom-block note"><p class="custom-block-title">注解</p> <p>我们感谢所有的贡献，但是我们不应该把每一个 PR 的标题暴露给终端用户。 因此，有必要将变更日志分类成用户应该知道什么和开发人员正在做什么。 而这是通过<strong>大写 PR 标签</strong>实现的：</p> <ul><li>对用户可见/值得注意的 PR，应该将其一开始的标签以<strong>大写的首字母</strong>进行标记，例如<code>[Metal], [OpenGL], [IR], [Lang], [CLI]</code>。 在发布新版本时，脚本（<code>python/taichi/make_changelog.py</code>）将生成一个突出显示这些更改（PR 标题）的变更日志。 因此，确保终端用户能够理解你的 PR 所做的工作是非常<strong>重要</strong>的，而这都是<strong>基于你的 PR 标题</strong>。</li> <li>其他类型的 PR（底层开发/中间实现）应该使用<strong>全小写字母</strong>的标签：例如<code>[metal], [opengl], [ir], [lang], [cli]</code>。</li> <li>由于发布更新日志的生成方式，PR 标题中应该<strong>最多只有一个大写标记</strong>，以防止重复的 PR 突出显示。 例如， <code>[GUI] [Mac] Support modifier keys</code> (#1189) 就是一个不好的例子，我们应该用 <code>[gui] [Mac] Support modifier keys in GUI</code> 来替代。 请只大写与 PR 内容最相关的标签。</li></ul></div> <h2 id="c-和-python-标准"><a href="#c-和-python-标准" class="header-anchor">#</a> C++ 和 Python 标准</h2> <p>Taichi 的 C++ 模块是基于 C++ 17 编写的，Python 模块是基于 3.6+ 编写的。 所以你可以合理地认为 C++ 17 和 Python 3.6 特性总是可用的。</p> <h2 id="taichi-编译器的开发建议"><a href="#taichi-编译器的开发建议" class="header-anchor">#</a> Taichi 编译器的开发建议</h2> <p><a href="/zh/contribution/compilation.html">Taichi 内核的生命周期</a>这一章也许有助于你理解我们的工作。 它解释了整个编译过程。</p> <p>如果你的工作涉及 IR 优化，请参见<a href="/zh/contribution/utilities.html#benchmarking-and-regression-tests">基准测试和回归测试</a>。</p> <p>使用 <code>ti.init(arch=desired_arch, **kwargs)</code> 创建 Taichi 程序时，传入以下参数，可以使 Taichi 编译器打印出 IR：</p> <ul><li><code>print_preprocessed = True</code>：打印前端 Python AST 转换的结果。 结果脚本(resulting scripts) 在执行时将生成一个 Taichi 前端 AST。</li> <li><code>print_ir = True</code> 打印内核编译（不包括访问器）中的 Taichi IR 转换过程。</li> <li><code>print_accessor_ir = True</code>：打印数据访问器的 IR 转换过程，这是一种特殊而简单的内核的信息。 （这很少使用，除非你正在调试数据访问器相关的编译）</li> <li><code>print_struct_llvm_ir = True</code>：保存由 Taichi 结构编译器生成的 LLVM IR。</li> <li><code>print_kernel_llvm_ir = True</code>： 保存由 Taichi 内核编译器生成的 LLVM IR。</li> <li><code>print_kernel_llvm_ir_optimized = True</code>：保存每个内核优化的 LLVM IR。</li> <li><code>print_kernel_nvptx = True</code>：保存每个内核生成的 NVPTX（仅限 CUDA）。</li></ul> <div class="custom-block note"><p class="custom-block-title">注解</p> <p>Python 作用域中的数据访问器被实现为特殊的 Taichi 内核。 例如，<code>x[1, 2, 3] = 3</code> 将调用 <code>x</code> 的写访问器内核，<code>print(y[42])</code> 将调用 <code>y</code> 的读取访问器内核。</p></div> <h2 id="目录结构"><a href="#目录结构" class="header-anchor">#</a> 目录结构</h2> <p>关键目录包括：</p> <p><em>（下面的目录可以通过<a href="https://linux.die.net/man/1/tree" target="_blank" rel="noopener noreferrer"><code>tree . -L 2</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>生成）</em></p> <div class="language- extra-class"><pre class="language-text"><code>.
├── benchmarks              # 性能基准
├── docs                    # 文档
├── examples                # 样例程序
├── external                # 扩展库
├── misc                    # 零散（但仍很有用）的文件
├── python                  # Python 前端实现
│   ├── core                # Taichi 核心的加载 &amp; 交互
│   ├── lang                # 嵌入在 Python 中的 Taichi 语言 &amp; 语法（重要）
│   ├── tools               # 提供给终端用户的便捷工具
│   └── misc                # 各种各样的工具
├── taichi                  # 核心编译器实现
│   ├── analysis            # 静态分析
│   ├── backends            # 基于设备的代码生成/运行时环境
│   ├── codegen             # 代码生成基类
│   ├── common
│   ├── gui                 # GUI 系统
│   ├── inc                 # 需要被重复引用的定义文件
│   ├── ir                  # 中间表示
│   ├── jit                 # 即时(Just-in-Time) 编译器基类
│   ├── llvm                # LLVM 实用工具
│   ├── math                # 数学类使用工具
│   ├── platform            # 平台支持依赖
│   ├── program             # 上层结构
│   ├── python              # C++/Python 接口
│   ├── runtime             # LLVM 运行环境
│   ├── struct              # 结构编译器基类
│   ├── system              # 操作系统相关的基础结构
│   ├── transforms          # IR 转换传递(Passes)
│   └── util                # 各种各样的工具
└── tests                   # 功能测试
    ├── cpp                 # C++ 测试
    └── python              # Python 测试（重要）
</code></pre></div><h2 id="测试"><a href="#测试" class="header-anchor">#</a> 测试</h2> <p>测试程序应该添加到 <code>tests/</code> 目录下。</p> <h3 id="命令行工具"><a href="#命令行工具" class="header-anchor">#</a> 命令行工具</h3> <ul><li>使用 <code>ti test</code> 运行所有测试用例。</li> <li>使用 <code>ti test -v</code> 查看详细输出信息。</li> <li>使用 <code>ti test -C</code> 运行测试并记录代码覆盖率，参阅<a href="/zh/contribution/utilities.html#coverage">代码测试覆盖率</a>查看更多信息。</li> <li>使用 <code>ti test -a &lt;arch(s)&gt;</code> 针对指定后端进行测试。 例如，<code>ti test -a cuda,metal</code>。</li> <li>使用 <code>ti test -na &lt;arch(s)&gt;</code> 测试除指定架构外的其余所有架构。 例如，<code>ti test -na opengl,x64</code>。</li> <li>使用 <code>ti test &lt;filename(s)&gt;</code> 运行指定文件名的测试实例。 例如，<code>ti test numpy_io</code> 将会运行 <code>tests/python/test_numpy_io.py</code> 中的所有测试用例。</li> <li>使用 <code>ti test -c</code> 以仅运行 C++ 测试程序。 例如，<code>ti test -c alg_simp</code> 将会运行 <code>tests/cpp/test_alg_simp.cpp</code> 测试。</li> <li>使用 <code>ti test -k &lt;key&gt;</code> 运行与指定关键词相匹配的测试。 例如，<code>ti test linalg -k &quot;cross or diag&quot;</code> 将会运行 <code>tests/python/test_linalg.py</code> 中的 <code>test_cross</code> 和 <code>test_diag</code>。</li></ul> <p>使用 <code>ti test -h</code> 来查看更多选项。</p> <p>要了解更多有关如何编写测试用例的详细信息，请参阅<a href="/zh/contribution/write_test.html">编写Python测试的工作流程</a>章节。</p> <h2 id="文档"><a href="#文档" class="header-anchor">#</a> 文档</h2> <p>文档被放置于 <code>docs/</code> 目录下。</p> <ul><li>我们使用 <a href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/basics.html" target="_blank" rel="noopener noreferrer">reStructured text<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>(.rst) 来撰写文档。</li> <li>我们使用 <a href="https://taichi.readthedocs.io/en/stable" target="_blank" rel="noopener noreferrer">readthedocs.io<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 在线托管我们的文档。</li> <li>使用 <code>ti doc</code> 在本地构建文档。</li> <li>打开 <code>docs/build/index.html</code> 以查看构建的文档。</li></ul> <div class="custom-block note"><p class="custom-block-title">注解</p> <p>在 Linux/OS X 下, 使用 <code>watch -n 1 ti doc</code> 以持续地构建文档。</p> <p>如果 OpenGL 后端检测器一直在创建新窗口，请在 <code>ti doc</code> 前执行 <code>export TI_WITH_OPENGL=0</code>。</p></div> <h2 id="跨-python-c-的高效代码导航"><a href="#跨-python-c-的高效代码导航" class="header-anchor">#</a> 跨 Python/C++ 的高效代码导航</h2> <p>如果你使用的是前端语言（Python/C++接口），要在代码库中导航，<a href="https://github.com/tqchen/ffi-navigator" target="_blank" rel="noopener noreferrer">ffi-navigator<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 允许从 Python 跳转到它们在 C++ 中绑定的定义。按照前述链接的 README 设置你的编辑器。</p> <h2 id="升级-cuda"><a href="#升级-cuda" class="header-anchor">#</a> 升级 CUDA</h2> <p>目前我们的开发工作是针对 CUDA 10。 在升级 CUDA 版本时，当前 <code>external/cuda_libdevice/slim_libdevice.10.bc</code> 文件会被新的版本所取代。</p> <p>要生成基于 CUDA 安装时完整 <code>libdevice.X.bc</code> 文件的精简版本，使用：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>ti task make_slim_libdevice <span class="token punctuation">[</span>libdevice.X.bc file<span class="token punctuation">]</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/taichi-dev/taichi.graphics/edit/master/website/zh/contribution/contributor_guide.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/5/2021, 3:25:48 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/zh/contribution/dev_install.html" class="prev">
        开发者安装指南
      </a></span> <span class="next"><a href="/zh/contribution/doc_writing.html">
        文档撰写指南
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.9585d352.js" defer></script><script src="/assets/js/5.080877bc.js" defer></script><script src="/assets/js/75.b4f7bb7d.js" defer></script>
  </body>
</html>
