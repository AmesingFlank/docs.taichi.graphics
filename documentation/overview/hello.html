<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Hello, world! | Taichi</title>
    <meta name="generator" content="VuePress 1.6.0">
    <link rel="icon" href="/taichi.graphics/logo.png">
    <meta name="description" content="The Taichi Programming Language">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="og:locale" content="en_US">
    <link rel="preload" href="/taichi.graphics/assets/css/0.styles.bffba545.css" as="style"><link rel="preload" href="/taichi.graphics/assets/js/app.e92ab0b3.js" as="script"><link rel="preload" href="/taichi.graphics/assets/js/5.c27725d5.js" as="script"><link rel="preload" href="/taichi.graphics/assets/js/52.9f53ab1b.js" as="script"><link rel="prefetch" href="/taichi.graphics/assets/js/1.2fddad2b.js"><link rel="prefetch" href="/taichi.graphics/assets/js/10.29b7e9bb.js"><link rel="prefetch" href="/taichi.graphics/assets/js/100.0e500066.js"><link rel="prefetch" href="/taichi.graphics/assets/js/101.972aea70.js"><link rel="prefetch" href="/taichi.graphics/assets/js/102.54ced4d8.js"><link rel="prefetch" href="/taichi.graphics/assets/js/103.fd18c559.js"><link rel="prefetch" href="/taichi.graphics/assets/js/104.a5486ebd.js"><link rel="prefetch" href="/taichi.graphics/assets/js/105.3a9dba10.js"><link rel="prefetch" href="/taichi.graphics/assets/js/106.4404c7cd.js"><link rel="prefetch" href="/taichi.graphics/assets/js/107.42672f53.js"><link rel="prefetch" href="/taichi.graphics/assets/js/108.d391f739.js"><link rel="prefetch" href="/taichi.graphics/assets/js/109.f8236d1f.js"><link rel="prefetch" href="/taichi.graphics/assets/js/11.1a41e7b9.js"><link rel="prefetch" href="/taichi.graphics/assets/js/110.7b5aa8ab.js"><link rel="prefetch" href="/taichi.graphics/assets/js/12.6e75473b.js"><link rel="prefetch" href="/taichi.graphics/assets/js/13.36c26ad3.js"><link rel="prefetch" href="/taichi.graphics/assets/js/14.10153e06.js"><link rel="prefetch" href="/taichi.graphics/assets/js/15.cc7fe92e.js"><link rel="prefetch" href="/taichi.graphics/assets/js/16.a6185e59.js"><link rel="prefetch" href="/taichi.graphics/assets/js/17.b8ea0319.js"><link rel="prefetch" href="/taichi.graphics/assets/js/18.9b475f36.js"><link rel="prefetch" href="/taichi.graphics/assets/js/19.eea10d15.js"><link rel="prefetch" href="/taichi.graphics/assets/js/2.a77af3fa.js"><link rel="prefetch" href="/taichi.graphics/assets/js/20.41e26329.js"><link rel="prefetch" href="/taichi.graphics/assets/js/21.63b4c0d7.js"><link rel="prefetch" href="/taichi.graphics/assets/js/22.4d230e9c.js"><link rel="prefetch" href="/taichi.graphics/assets/js/23.d1252829.js"><link rel="prefetch" href="/taichi.graphics/assets/js/24.b9533092.js"><link rel="prefetch" href="/taichi.graphics/assets/js/25.f6ab3167.js"><link rel="prefetch" href="/taichi.graphics/assets/js/26.e72cb592.js"><link rel="prefetch" href="/taichi.graphics/assets/js/27.913cdb96.js"><link rel="prefetch" href="/taichi.graphics/assets/js/28.2e819948.js"><link rel="prefetch" href="/taichi.graphics/assets/js/29.7e9eba04.js"><link rel="prefetch" href="/taichi.graphics/assets/js/30.3e5d7572.js"><link rel="prefetch" href="/taichi.graphics/assets/js/31.29a5e349.js"><link rel="prefetch" href="/taichi.graphics/assets/js/32.aa7c159b.js"><link rel="prefetch" href="/taichi.graphics/assets/js/33.458d2ffe.js"><link rel="prefetch" href="/taichi.graphics/assets/js/34.6ebad8ac.js"><link rel="prefetch" href="/taichi.graphics/assets/js/35.51d93466.js"><link rel="prefetch" href="/taichi.graphics/assets/js/36.3850b3d2.js"><link rel="prefetch" href="/taichi.graphics/assets/js/37.f6ebf91b.js"><link rel="prefetch" href="/taichi.graphics/assets/js/38.23b31490.js"><link rel="prefetch" href="/taichi.graphics/assets/js/39.0d8ff11d.js"><link rel="prefetch" href="/taichi.graphics/assets/js/4.4c80ee98.js"><link rel="prefetch" href="/taichi.graphics/assets/js/40.e2684552.js"><link rel="prefetch" href="/taichi.graphics/assets/js/41.c349a50e.js"><link rel="prefetch" href="/taichi.graphics/assets/js/42.d3a56374.js"><link rel="prefetch" href="/taichi.graphics/assets/js/43.8674e556.js"><link rel="prefetch" href="/taichi.graphics/assets/js/44.236ec4e2.js"><link rel="prefetch" href="/taichi.graphics/assets/js/45.138ac3fd.js"><link rel="prefetch" href="/taichi.graphics/assets/js/46.7c32a9f4.js"><link rel="prefetch" href="/taichi.graphics/assets/js/47.115907f7.js"><link rel="prefetch" href="/taichi.graphics/assets/js/48.e04cf6c8.js"><link rel="prefetch" href="/taichi.graphics/assets/js/49.a61766a7.js"><link rel="prefetch" href="/taichi.graphics/assets/js/50.245bd4ac.js"><link rel="prefetch" href="/taichi.graphics/assets/js/51.f1823d0e.js"><link rel="prefetch" href="/taichi.graphics/assets/js/53.7abf7037.js"><link rel="prefetch" href="/taichi.graphics/assets/js/54.85b3847b.js"><link rel="prefetch" href="/taichi.graphics/assets/js/55.f09999f6.js"><link rel="prefetch" href="/taichi.graphics/assets/js/56.eee07124.js"><link rel="prefetch" href="/taichi.graphics/assets/js/57.197a2c38.js"><link rel="prefetch" href="/taichi.graphics/assets/js/58.36dfbc83.js"><link rel="prefetch" href="/taichi.graphics/assets/js/59.5a80519c.js"><link rel="prefetch" href="/taichi.graphics/assets/js/6.3ddc5c87.js"><link rel="prefetch" href="/taichi.graphics/assets/js/60.81da000c.js"><link rel="prefetch" href="/taichi.graphics/assets/js/61.6e35083e.js"><link rel="prefetch" href="/taichi.graphics/assets/js/62.acf736b2.js"><link rel="prefetch" href="/taichi.graphics/assets/js/63.7b19cba0.js"><link rel="prefetch" href="/taichi.graphics/assets/js/64.3e6929ff.js"><link rel="prefetch" href="/taichi.graphics/assets/js/65.64e32317.js"><link rel="prefetch" href="/taichi.graphics/assets/js/66.3219104e.js"><link rel="prefetch" href="/taichi.graphics/assets/js/67.fdf9d9cf.js"><link rel="prefetch" href="/taichi.graphics/assets/js/68.236d04b5.js"><link rel="prefetch" href="/taichi.graphics/assets/js/69.e19d51b5.js"><link rel="prefetch" href="/taichi.graphics/assets/js/7.745809f0.js"><link rel="prefetch" href="/taichi.graphics/assets/js/70.028ce84d.js"><link rel="prefetch" href="/taichi.graphics/assets/js/71.18f13d9b.js"><link rel="prefetch" href="/taichi.graphics/assets/js/72.a20ec46b.js"><link rel="prefetch" href="/taichi.graphics/assets/js/73.1bc168b2.js"><link rel="prefetch" href="/taichi.graphics/assets/js/74.334e01fa.js"><link rel="prefetch" href="/taichi.graphics/assets/js/75.4882c41c.js"><link rel="prefetch" href="/taichi.graphics/assets/js/76.58960bca.js"><link rel="prefetch" href="/taichi.graphics/assets/js/77.15afdad1.js"><link rel="prefetch" href="/taichi.graphics/assets/js/78.29ad5f7a.js"><link rel="prefetch" href="/taichi.graphics/assets/js/79.9217bc7b.js"><link rel="prefetch" href="/taichi.graphics/assets/js/8.7b083a2d.js"><link rel="prefetch" href="/taichi.graphics/assets/js/80.df6a55cc.js"><link rel="prefetch" href="/taichi.graphics/assets/js/81.87d43a05.js"><link rel="prefetch" href="/taichi.graphics/assets/js/82.b1d4c82d.js"><link rel="prefetch" href="/taichi.graphics/assets/js/83.f3b02ad5.js"><link rel="prefetch" href="/taichi.graphics/assets/js/84.e5fdbd44.js"><link rel="prefetch" href="/taichi.graphics/assets/js/85.270782ba.js"><link rel="prefetch" href="/taichi.graphics/assets/js/86.071be261.js"><link rel="prefetch" href="/taichi.graphics/assets/js/87.b613aeab.js"><link rel="prefetch" href="/taichi.graphics/assets/js/88.837089c3.js"><link rel="prefetch" href="/taichi.graphics/assets/js/89.075e131e.js"><link rel="prefetch" href="/taichi.graphics/assets/js/9.b39aca62.js"><link rel="prefetch" href="/taichi.graphics/assets/js/90.20915b3d.js"><link rel="prefetch" href="/taichi.graphics/assets/js/91.2ec8bc7c.js"><link rel="prefetch" href="/taichi.graphics/assets/js/92.c5e2438c.js"><link rel="prefetch" href="/taichi.graphics/assets/js/93.ec74e5d0.js"><link rel="prefetch" href="/taichi.graphics/assets/js/94.455b9a03.js"><link rel="prefetch" href="/taichi.graphics/assets/js/95.4c4d572f.js"><link rel="prefetch" href="/taichi.graphics/assets/js/96.4cf8c06c.js"><link rel="prefetch" href="/taichi.graphics/assets/js/97.0c884666.js"><link rel="prefetch" href="/taichi.graphics/assets/js/98.3a2cd148.js"><link rel="prefetch" href="/taichi.graphics/assets/js/99.d9864c18.js">
    <link rel="stylesheet" href="/taichi.graphics/assets/css/0.styles.bffba545.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/taichi.graphics/" class="home-link router-link-active"><img src="/taichi.graphics/logo_medium.png" alt="Taichi" class="logo"> <span class="site-name can-hide">Taichi</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/taichi.graphics/documentation/overview/overview.html" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="/taichi.graphics/tutorials/" class="nav-link">
  Tutorials
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learn More" class="dropdown-title"><span class="title">Learn More</span> <span class="arrow down"></span></button> <button type="button" aria-label="Learn More" class="mobile-dropdown-title"><span class="title">Learn More</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Explore
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/taichi.graphics/gallery/" class="nav-link">
  Gallery
</a></li><li class="dropdown-subitem"><a href="/taichi.graphics/research/" class="nav-link">
  Research
</a></li><li class="dropdown-subitem"><a href="/taichi.graphics/playground/" class="nav-link">
  Playground
</a></li></ul></li><li class="dropdown-item"><h4>
          Resources
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/taichi.graphics/contribution/" class="nav-link">
  Contribution Guide
</a></li><li class="dropdown-subitem"><a href="/taichi.graphics/events/" class="nav-link">
  Events
</a></li><li class="dropdown-subitem"><a href="https://github.com/taichi-dev/taichi/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>
          FAQ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/taichi.graphics/faq/" class="nav-link">
  FAQ
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://forum.taichi.graphics/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Forum
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/taichi.graphics/documentation/overview/hello.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/taichi.graphics/zh/documentation/overview/hello.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/taichi-dev/taichi" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/taichi.graphics/documentation/overview/overview.html" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="/taichi.graphics/tutorials/" class="nav-link">
  Tutorials
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learn More" class="dropdown-title"><span class="title">Learn More</span> <span class="arrow down"></span></button> <button type="button" aria-label="Learn More" class="mobile-dropdown-title"><span class="title">Learn More</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Explore
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/taichi.graphics/gallery/" class="nav-link">
  Gallery
</a></li><li class="dropdown-subitem"><a href="/taichi.graphics/research/" class="nav-link">
  Research
</a></li><li class="dropdown-subitem"><a href="/taichi.graphics/playground/" class="nav-link">
  Playground
</a></li></ul></li><li class="dropdown-item"><h4>
          Resources
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/taichi.graphics/contribution/" class="nav-link">
  Contribution Guide
</a></li><li class="dropdown-subitem"><a href="/taichi.graphics/events/" class="nav-link">
  Events
</a></li><li class="dropdown-subitem"><a href="https://github.com/taichi-dev/taichi/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>
          FAQ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/taichi.graphics/faq/" class="nav-link">
  FAQ
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://forum.taichi.graphics/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Forum
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/taichi.graphics/documentation/overview/hello.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/taichi.graphics/zh/documentation/overview/hello.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/taichi-dev/taichi" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Overview</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/taichi.graphics/documentation/overview/overview.html" class="sidebar-link">Why new programming language</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/taichi.graphics/documentation/overview/overview.html#design-decisions" class="sidebar-link">Design decisions</a></li></ul></li><li><a href="/taichi.graphics/documentation/overview/install.html" class="sidebar-link">Installation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/taichi.graphics/documentation/overview/install.html#troubleshooting" class="sidebar-link">Troubleshooting</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/taichi.graphics/documentation/overview/install.html#windows-issues" class="sidebar-link">Windows issues</a></li><li class="sidebar-sub-header"><a href="/taichi.graphics/documentation/overview/install.html#python-issues" class="sidebar-link">Python issues</a></li><li class="sidebar-sub-header"><a href="/taichi.graphics/documentation/overview/install.html#cuda-issues" class="sidebar-link">CUDA issues</a></li><li class="sidebar-sub-header"><a href="/taichi.graphics/documentation/overview/install.html#opengl-issues" class="sidebar-link">OpenGL issues</a></li><li class="sidebar-sub-header"><a href="/taichi.graphics/documentation/overview/install.html#linux-issues" class="sidebar-link">Linux issues</a></li><li class="sidebar-sub-header"><a href="/taichi.graphics/documentation/overview/install.html#other-issues" class="sidebar-link">Other issues</a></li></ul></li></ul></li><li><a href="/taichi.graphics/documentation/overview/hello.html" aria-current="page" class="active sidebar-link">Hello, world!</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/taichi.graphics/documentation/overview/hello.html#import-taichi-as-ti" class="sidebar-link">import taichi as ti</a></li><li class="sidebar-sub-header"><a href="/taichi.graphics/documentation/overview/hello.html#portability" class="sidebar-link">Portability</a></li><li class="sidebar-sub-header"><a href="/taichi.graphics/documentation/overview/hello.html#fields" class="sidebar-link">Fields</a></li><li class="sidebar-sub-header"><a href="/taichi.graphics/documentation/overview/hello.html#functions-and-kernels" class="sidebar-link">Functions and kernels</a></li><li class="sidebar-sub-header"><a href="/taichi.graphics/documentation/overview/hello.html#parallel-for-loops" class="sidebar-link">Parallel for-loops</a></li><li class="sidebar-sub-header"><a href="/taichi.graphics/documentation/overview/hello.html#interacting-with-other-python-packages" class="sidebar-link">Interacting with other Python packages</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/taichi.graphics/documentation/overview/hello.html#python-scope-data-access" class="sidebar-link">Python-scope data access</a></li><li class="sidebar-sub-header"><a href="/taichi.graphics/documentation/overview/hello.html#sharing-data-with-other-packages" class="sidebar-link">Sharing data with other packages</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Basic Concepts</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Advanced Programming</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>API References</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Miscellaneous</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Acknowledgments</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Legacy</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="hello-world"><a href="#hello-world" class="header-anchor">#</a> Hello, world!</h1> <p>We introduce the Taichi programming language through a very basic
<em>fractal</em> example.</p> <p>Running the Taichi code below (<code>python3 fractal.py</code> or
<code>ti example fractal</code>) will give you an animation of <a href="https://en.wikipedia.org/wiki/Julia_set" target="_blank" rel="noopener noreferrer">Julia
set<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>:</p> <center><p><img src="https://github.com/yuanming-hu/public_files/raw/master/graphics/taichi/fractal.gif" alt="image"></p></center> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># fractal.py</span>

<span class="token keyword">import</span> taichi <span class="token keyword">as</span> ti

ti<span class="token punctuation">.</span>init<span class="token punctuation">(</span>arch<span class="token operator">=</span>ti<span class="token punctuation">.</span>gpu<span class="token punctuation">)</span>

n <span class="token operator">=</span> <span class="token number">320</span>
pixels <span class="token operator">=</span> ti<span class="token punctuation">.</span>field<span class="token punctuation">(</span>dtype<span class="token operator">=</span><span class="token builtin">float</span><span class="token punctuation">,</span> shape<span class="token operator">=</span><span class="token punctuation">(</span>n <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token decorator annotation punctuation">@ti<span class="token punctuation">.</span>func</span>
<span class="token keyword">def</span> <span class="token function">complex_sqr</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> ti<span class="token punctuation">.</span>Vector<span class="token punctuation">(</span><span class="token punctuation">[</span>z<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">**</span><span class="token number">2</span> <span class="token operator">-</span> z<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">,</span> z<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> z<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>


<span class="token decorator annotation punctuation">@ti<span class="token punctuation">.</span>kernel</span>
<span class="token keyword">def</span> <span class="token function">paint</span><span class="token punctuation">(</span>t<span class="token punctuation">:</span> <span class="token builtin">float</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> j <span class="token keyword">in</span> pixels<span class="token punctuation">:</span>  <span class="token comment"># Parallized over all pixels</span>
        c <span class="token operator">=</span> ti<span class="token punctuation">.</span>Vector<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">0.8</span><span class="token punctuation">,</span> ti<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        z <span class="token operator">=</span> ti<span class="token punctuation">.</span>Vector<span class="token punctuation">(</span><span class="token punctuation">[</span>i <span class="token operator">/</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> j <span class="token operator">/</span> n <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span>
        iterations <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">while</span> z<span class="token punctuation">.</span>norm<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">20</span> <span class="token keyword">and</span> iterations <span class="token operator">&lt;</span> <span class="token number">50</span><span class="token punctuation">:</span>
            z <span class="token operator">=</span> complex_sqr<span class="token punctuation">(</span>z<span class="token punctuation">)</span> <span class="token operator">+</span> c
            iterations <span class="token operator">+=</span> <span class="token number">1</span>
        pixels<span class="token punctuation">[</span>i<span class="token punctuation">,</span> j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">-</span> iterations <span class="token operator">*</span> <span class="token number">0.02</span>


gui <span class="token operator">=</span> ti<span class="token punctuation">.</span>GUI<span class="token punctuation">(</span><span class="token string">&quot;Julia Set&quot;</span><span class="token punctuation">,</span> res<span class="token operator">=</span><span class="token punctuation">(</span>n <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    paint<span class="token punctuation">(</span>i <span class="token operator">*</span> <span class="token number">0.03</span><span class="token punctuation">)</span>
    gui<span class="token punctuation">.</span>set_image<span class="token punctuation">(</span>pixels<span class="token punctuation">)</span>
    gui<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>Let's dive into this simple Taichi program.</p> <h2 id="import-taichi-as-ti"><a href="#import-taichi-as-ti" class="header-anchor">#</a> import taichi as ti</h2> <p>Taichi is a domain-specific language (DSL) embedded in Python. To make
Taichi as easy to use as a Python package, we have done heavy
engineering with this goal in mind - letting every Python programmer
write Taichi programs with minimal learning effort. You can even use
your favorite Python package management system, Python IDEs and other
Python packages in conjunction with Taichi.</p> <h2 id="portability"><a href="#portability" class="header-anchor">#</a> Portability</h2> <p>Taichi programs run on either CPUs or GPUs. Initialize Taichi according
to your hardware platform as follows:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># Run on GPU, automatically detect backend</span>
ti<span class="token punctuation">.</span>init<span class="token punctuation">(</span>arch<span class="token operator">=</span>ti<span class="token punctuation">.</span>gpu<span class="token punctuation">)</span>

<span class="token comment"># Run on GPU, with the NVIDIA CUDA backend</span>
ti<span class="token punctuation">.</span>init<span class="token punctuation">(</span>arch<span class="token operator">=</span>ti<span class="token punctuation">.</span>cuda<span class="token punctuation">)</span>
<span class="token comment"># Run on GPU, with the OpenGL backend</span>
ti<span class="token punctuation">.</span>init<span class="token punctuation">(</span>arch<span class="token operator">=</span>ti<span class="token punctuation">.</span>opengl<span class="token punctuation">)</span>
<span class="token comment"># Run on GPU, with the Apple Metal backend, if you are on OS X</span>
ti<span class="token punctuation">.</span>init<span class="token punctuation">(</span>arch<span class="token operator">=</span>ti<span class="token punctuation">.</span>metal<span class="token punctuation">)</span>

<span class="token comment"># Run on CPU (default)</span>
ti<span class="token punctuation">.</span>init<span class="token punctuation">(</span>arch<span class="token operator">=</span>ti<span class="token punctuation">.</span>cpu<span class="token punctuation">)</span>
</code></pre></div><div class="custom-block note"><p class="custom-block-title">NOTE</p> <p>Supported backends on different platforms:</p> <table><thead><tr><th style="text-align:center;"><strong>platform</strong></th> <th style="text-align:center;"><strong>CPU</strong></th> <th style="text-align:center;"><strong>CUDA</strong></th> <th style="text-align:center;"><strong>OpenGL</strong></th> <th style="text-align:center;"><strong>Metal</strong></th> <th style="text-align:center;"><strong>C source</strong></th></tr></thead> <tbody><tr><td style="text-align:center;">Windows</td> <td style="text-align:center;">OK</td> <td style="text-align:center;">OK</td> <td style="text-align:center;">OK</td> <td style="text-align:center;">N/A</td> <td style="text-align:center;">N/A</td></tr> <tr><td style="text-align:center;">Linux</td> <td style="text-align:center;">OK</td> <td style="text-align:center;">OK</td> <td style="text-align:center;">OK</td> <td style="text-align:center;">N/A</td> <td style="text-align:center;">OK</td></tr> <tr><td style="text-align:center;">Mac OS X</td> <td style="text-align:center;">OK</td> <td style="text-align:center;">N/A</td> <td style="text-align:center;">N/A</td> <td style="text-align:center;">OK</td> <td style="text-align:center;">N/A</td></tr></tbody></table> <p>(OK: supported; N/A: not available)</p> <p>With <code>arch=ti.gpu</code>, Taichi will first try to run with CUDA. If CUDA is
not supported on your machine, Taichi will fall back on Metal or OpenGL.
If no GPU backend (CUDA, Metal, or OpenGL) is supported, Taichi will
fall back on CPUs.</p></div> <div class="custom-block note"><p class="custom-block-title">NOTE</p> <p>When used with the CUDA backend on Windows or ARM devices (e.g. NVIDIA
Jetson), Taichi by default allocates 1 GB GPU memory for field storage.
You can override this behavior by initializing with
<code>ti.init(arch=ti.cuda, device_memory_GB=3.4)</code> to allocate <code>3.4</code> GB GPU
memory, or <code>ti.init(arch=ti.cuda, device_memory_fraction=0.3)</code> to
allocate <code>30%</code> of the total GPU memory.</p> <p>On other platforms, Taichi will make use of its on-demand memory
allocator to adaptively allocate memory.</p></div> <h2 id="fields"><a href="#fields" class="header-anchor">#</a> Fields</h2> <p>Taichi is a data-oriented programming language where dense or
spatially-sparse fields are the first-class citizens. See
<a href="/taichi.graphics/documentation/api/scalar_field.html#scalar-fields">Scalar fields</a> for more details on
fields.</p> <p>In the code above, <code>pixels = ti.field(dtype=float, shape=(n * 2, n))</code>
allocates a 2D dense field named <code>pixels</code> of size <code>(640, 320)</code> and
element data type <code>float</code>.</p> <h2 id="functions-and-kernels"><a href="#functions-and-kernels" class="header-anchor">#</a> Functions and kernels</h2> <p>Computation resides in Taichi <strong>kernels</strong> and Taichi <strong>functions</strong>.</p> <p>Taichi <strong>kernels</strong> are defined with the decorator <code>@ti.kernel</code>. They can
be called from Python to perform computation. Kernel arguments must be
type-hinted (if any).</p> <p>Taichi <strong>functions</strong> are defined with the decorator <code>@ti.func</code>. They can
be called by Taichi kernels or other Taichi functions.</p> <p>See <a href="/taichi.graphics/documentation/basic/syntax.html">syntax</a> for more details about Taichi
kernels and functions.</p> <p>The language used in Taichi kernels and functions looks exactly like
Python, yet the Taichi frontend compiler converts it into a language
that is <strong>compiled, statically-typed, lexically-scoped, parallel and
differentiable</strong>.</p> <div class="custom-block note"><p class="custom-block-title">NOTE</p> <p><strong>Taichi-scopes v.s. Python-scopes</strong>:</p> <p>Everything decorated with <code>@ti.kernel</code> and <code>@ti.func</code> is in Taichi-scope
and hence will be compiled by the Taichi compiler.</p> <p>Everything else is in Python-scope. They are simply Python native code.</p></div> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Taichi kernels must be called from the Python-scope. Taichi functions
must be called from the Taichi-scope.</p></div> <div class="custom-block note"><p class="custom-block-title">NOTE</p> <p>For those who come from the world of CUDA, <code>ti.func</code> corresponds to
<code>__device__</code> while <code>ti.kernel</code> corresponds to <code>__global__</code>.</p></div> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Nested kernels are <strong>not supported</strong>.</p> <p>Nested functions are <strong>supported</strong>.</p> <p>Recursive functions are <strong>not supported for now</strong>.</p></div> <h2 id="parallel-for-loops"><a href="#parallel-for-loops" class="header-anchor">#</a> Parallel for-loops</h2> <p>For loops at the outermost scope in a Taichi kernel is <strong>automatically
parallelized</strong>. For loops can have two forms, i.e. <em>range-for
loops</em> and <em>struct-for loops</em>.</p> <p><strong>Range-for loops</strong> are no different from Python for loops, except that
it will be parallelized when used at the outermost scope. Range-for
loops can be nested.</p> <div class="language-python extra-class"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br></div><pre class="language-python"><code><span class="token decorator annotation punctuation">@ti<span class="token punctuation">.</span>kernel</span>
<span class="token keyword">def</span> <span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># Parallelized</span>
        x<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> i

        s <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># Serialized in each parallel thread</span>
            s <span class="token operator">+=</span> j

        y<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> s

<span class="token decorator annotation punctuation">@ti<span class="token punctuation">.</span>kernel</span>
<span class="token keyword">def</span> <span class="token function">fill_3d</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># Parallelized for all 3 &lt;= i &lt; 8, 1 &lt;= j &lt; 6, 0 &lt;= k &lt; 9</span>
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> k <span class="token keyword">in</span> ti<span class="token punctuation">.</span>ndrange<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        x<span class="token punctuation">[</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> k<span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">+</span> j <span class="token operator">+</span> k
</code></pre></div><div class="custom-block note"><p class="custom-block-title">NOTE</p> <p>It is the loop <strong>at the outermost scope</strong> that gets parallelized, not
the outermost loop.</p> <div class="language-python extra-class"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br><br><br><br><div class="highlighted"> </div><br><br></div><pre class="language-python"><code><span class="token decorator annotation punctuation">@ti<span class="token punctuation">.</span>kernel</span>
<span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># Parallelized :-)</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token decorator annotation punctuation">@ti<span class="token punctuation">.</span>kernel</span>
<span class="token keyword">def</span> <span class="token function">bar</span><span class="token punctuation">(</span>k<span class="token punctuation">:</span> ti<span class="token punctuation">.</span>i32<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> k <span class="token operator">&gt;</span> <span class="token number">42</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># Serial :-(</span>
            <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div></div> <p><strong>Struct-for loops</strong> are particularly useful when iterating over
(sparse) field elements. In the code above, <code>for i, j in pixels</code> loops
over all the pixel coordinates, i.e.
<code>(0, 0), (0, 1), (0, 2), ... , (0, 319), (1, 0), ..., (639, 319)</code>.</p> <div class="custom-block note"><p class="custom-block-title">NOTE</p> <p>Struct-for is the key to <a href="/taichi.graphics/documentation/advanced/sparse.html">sparse computation</a> in
Taichi, as it will only loop over active elements in a sparse field. In
dense fields, all elements are active.</p></div> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Struct-for loops must live at the outer-most scope of kernels.</p> <p>It is the loop <strong>at the outermost scope</strong> that gets parallelized, not
the outermost loop.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token decorator annotation punctuation">@ti<span class="token punctuation">.</span>kernel</span>
<span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> x<span class="token punctuation">:</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token decorator annotation punctuation">@ti<span class="token punctuation">.</span>kernel</span>
<span class="token keyword">def</span> <span class="token function">bar</span><span class="token punctuation">(</span>k<span class="token punctuation">:</span> ti<span class="token punctuation">.</span>i32<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># The outermost scope is a `if` statement</span>
    <span class="token keyword">if</span> k <span class="token operator">&gt;</span> <span class="token number">42</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> x<span class="token punctuation">:</span> <span class="token comment"># Not allowed. Struct-fors must live in the outermost scope.</span>
            <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div></div> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p><code>break</code> <strong>is not supported in parallel loops</strong>:</p> <div class="language-python extra-class"><div class="highlight-lines"><br><br><br><br><div class="highlighted"> </div><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><div class="highlighted"> </div><br></div><pre class="language-python"><code><span class="token decorator annotation punctuation">@ti<span class="token punctuation">.</span>kernel</span>
<span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">for</span> i <span class="token keyword">in</span> x<span class="token punctuation">:</span>
      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
      <span class="token keyword">break</span> <span class="token comment"># Error!</span>

  <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
      <span class="token keyword">break</span> <span class="token comment"># Error!</span>

<span class="token decorator annotation punctuation">@ti<span class="token punctuation">.</span>kernel</span>
<span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">for</span> i <span class="token keyword">in</span> x<span class="token punctuation">:</span>
      <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
          <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
          <span class="token keyword">break</span> <span class="token comment"># OK!</span>
</code></pre></div></div> <h2 id="interacting-with-other-python-packages"><a href="#interacting-with-other-python-packages" class="header-anchor">#</a> Interacting with other Python packages</h2> <h3 id="python-scope-data-access"><a href="#python-scope-data-access" class="header-anchor">#</a> Python-scope data access</h3> <p>Everything outside Taichi-scopes (<code>ti.func</code> and <code>ti.kernel</code>) is simply
Python code. In Python-scopes, you can access Taichi field elements
using plain indexing syntax. For example, to access a single pixel of
the rendered image in Python-scope, simply use:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> taichi <span class="token keyword">as</span> ti
pixels <span class="token operator">=</span> ti<span class="token punctuation">.</span>field<span class="token punctuation">(</span>ti<span class="token punctuation">.</span>f32<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">,</span> <span class="token number">512</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

pixels<span class="token punctuation">[</span><span class="token number">42</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0.7</span>  <span class="token comment"># store data into pixels</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>pixels<span class="token punctuation">[</span><span class="token number">42</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># prints 0.7</span>
</code></pre></div><h3 id="sharing-data-with-other-packages"><a href="#sharing-data-with-other-packages" class="header-anchor">#</a> Sharing data with other packages</h3> <p>Taichi provides helper functions such as <code>from_numpy</code> and <code>to_numpy</code> for
transfer data between Taichi fields and NumPy arrays, So that you can
also use your favorite Python packages (e.g. <code>numpy</code>, <code>pytorch</code>,
<code>matplotlib</code>) together with Taichi. e.g.:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> taichi <span class="token keyword">as</span> ti
pixels <span class="token operator">=</span> ti<span class="token punctuation">.</span>field<span class="token punctuation">(</span>ti<span class="token punctuation">.</span>f32<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">,</span> <span class="token number">512</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
arr <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">,</span> <span class="token number">512</span><span class="token punctuation">)</span>
pixels<span class="token punctuation">.</span>from_numpy<span class="token punctuation">(</span>arr<span class="token punctuation">)</span>   <span class="token comment"># load numpy data into taichi fields</span>

<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
arr <span class="token operator">=</span> pixels<span class="token punctuation">.</span>to_numpy<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># store taichi data into numpy arrays</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>cm <span class="token keyword">as</span> cm
cmap <span class="token operator">=</span> cm<span class="token punctuation">.</span>get_cmap<span class="token punctuation">(</span><span class="token string">'magma'</span><span class="token punctuation">)</span>
gui <span class="token operator">=</span> ti<span class="token punctuation">.</span>GUI<span class="token punctuation">(</span><span class="token string">'Color map'</span><span class="token punctuation">)</span>
<span class="token keyword">while</span> gui<span class="token punctuation">.</span>running<span class="token punctuation">:</span>
    render_pixels<span class="token punctuation">(</span><span class="token punctuation">)</span>
    arr <span class="token operator">=</span> pixels<span class="token punctuation">.</span>to_numpy<span class="token punctuation">(</span><span class="token punctuation">)</span>
    gui<span class="token punctuation">.</span>set_image<span class="token punctuation">(</span>cmap<span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span>
    gui<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>See <a href="/taichi.graphics/documentation/basic/external.html#interacting-with-external-arrays">external</a> for more details.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/taichi-dev/taichi/edit/master/documentation/overview/hello.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/27/2020, 11:27:11 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/taichi.graphics/documentation/overview/install.html" class="prev">
        Installation
      </a></span> <span class="next"><a href="/taichi.graphics/documentation/basic/syntax.html">
        Kernels and functions
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/taichi.graphics/assets/js/app.e92ab0b3.js" defer></script><script src="/taichi.graphics/assets/js/5.c27725d5.js" defer></script><script src="/taichi.graphics/assets/js/52.9f53ab1b.js" defer></script>
  </body>
</html>
