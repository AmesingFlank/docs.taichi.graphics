(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{500:function(e,t,a){"use strict";a.r(t);var s=a(20),i=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"versioning-and-releases"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#versioning-and-releases"}},[e._v("#")]),e._v(" Versioning and releases")]),e._v(" "),a("h2",{attrs:{id:"pre-1-0-versioning"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pre-1-0-versioning"}},[e._v("#")]),e._v(" Pre-1.0 versioning")]),e._v(" "),a("p",[e._v("Taichi follows "),a("a",{attrs:{href:"https://semver.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Semantic Versioning 2.0.0"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("Since Taichi is still under version 1.0.0, we use minor version bumps (e.g., "),a("code",[e._v("0.6.17->0.7.0")]),e._v(") for breaking API changes, and patch version bumps (e.g., "),a("code",[e._v("0.6.9->0.6.10")]),e._v(") for backward-compatible changes.")]),e._v(" "),a("h2",{attrs:{id:"workflow-releasing-a-new-version"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#workflow-releasing-a-new-version"}},[e._v("#")]),e._v(" Workflow: releasing a new version")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Trigger a Linux build on "),a("a",{attrs:{href:"http://f11.csail.mit.edu:8080/job/taichi/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Jenkins"),a("OutboundLink")],1),e._v(" to see if CUDA passes all tests. Note that Jenkins is the only build bot we have that tests CUDA. (This may take half an hour.)")])]),e._v(" "),a("li",[a("p",[e._v("Create a branch for the release PR, forking from the latest commit of the "),a("code",[e._v("master")]),e._v(" branch.")]),e._v(" "),a("ul",[a("li",[e._v("Update Taichi version number at the beginning of "),a("code",[e._v("CMakeLists.txt")]),e._v(". For example, change "),a("code",[e._v("SET(TI_VERSION_PATCH 9)")]),e._v(" to "),a("code",[e._v("SET(TI_VERSION_PATCH 10)")]),e._v(" for a patch release.")]),e._v(" "),a("li",[e._v('commit with message "[release] vX.Y.Z", e.g. "[release] v0.6.10".')]),e._v(" "),a("li",[e._v("You should see two changes in this commit: one line in "),a("code",[e._v("CMakeLists.txt")]),e._v(" and one line in "),a("code",[e._v("docs/version")]),e._v(".")]),e._v(" "),a("li",[e._v("Execute "),a("code",[e._v("ti changelog")]),e._v(" and save its outputs. You will need this later.")])])]),e._v(" "),a("li",[a("p",[e._v('Open a PR titled "[release] vX.Y.Z" with the branch and commit you just now created.')]),e._v(" "),a("ul",[a("li",[e._v("Use the "),a("code",[e._v("ti changelog")]),e._v(" output you saved in the previous step as the content of the PR description.")]),e._v(" "),a("li",[e._v("Wait for all the checks and build bots to complete. (This step may take up to two hours).")])])]),e._v(" "),a("li",[a("p",[e._v("Squash and merge the PR.")])]),e._v(" "),a("li",[a("p",[e._v("Trigger the Linux build on Jenkins, again, so that Linux packages are uploaded to PyPI.")])]),e._v(" "),a("li",[a("p",[e._v("Wait for all build bots to finish. This step uploads PyPI packages for OS X and Windows. You may have to wait for up to two hours.")])]),e._v(" "),a("li",[a("p",[e._v("Update the "),a("code",[e._v("stable")]),e._v(" branch so that the head of that branch is your release commit on "),a("code",[e._v("master")]),e._v(".")])]),e._v(" "),a("li",[a("p",[e._v("Draft a new release "),a("a",{attrs:{href:"https://github.com/taichi-dev/taichi/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("(here)"),a("OutboundLink")],1),e._v(":")]),e._v(" "),a("ul",[a("li",[e._v('The title should be "vX.Y.Z".')]),e._v(" "),a("li",[e._v('The tag should be "vX.Y.Z".')]),e._v(" "),a("li",[e._v('Target should be "recent commit" -> the release commit.')]),e._v(" "),a("li",[e._v("The release description should be copy-pasted from the release PR description.")]),e._v(" "),a("li",[e._v('Click the "Publish release" button.')])])])]),e._v(" "),a("h2",{attrs:{id:"release-cycle"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#release-cycle"}},[e._v("#")]),e._v(" Release cycle")]),e._v(" "),a("p",[e._v("Taichi releases new versions twice per week:")]),e._v(" "),a("ul",[a("li",[e._v("The first release happens on Wednesdays.")]),e._v(" "),a("li",[e._v("The second release happens on Saturdays.")])]),e._v(" "),a("p",[e._v("Additional releases may happen if anything needs an urgent fix.")])])}),[],!1,null,null,null);t.default=i.exports}}]);